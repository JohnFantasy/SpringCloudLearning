package com.laofaner.javaFoundation.ClimbOverTheWallTest;

/**
 * @program: SpringBoot&SpringCloud
 * @description: 视频下载
 * @author: fyz
 * @create: 2019-08-31 00:20
 **/
public class PHVideo {

    public static void main(String[] args) {
        String javascript = "\n" +
                "\t\t\t\tvar flashvars_131849481 = {\"disable_sharebar\":0,\"htmlPauseRoll\":\"true\"," +
                "\"htmlPostRoll\":\"true\",\"errorReports\":\"https:\\/\\/www.pornhub" +
                ".com\\/video\\/problems\\/131849481\",\"autoplay\":\"true\",\"autoreplay\":\"false\"," +
                "\"video_unavailable\":\"false\",\"pauseroll_url\":\"\",\"postroll_url\":\"\",\"embedCode\":\"<iframe" +
                " src=\\\"https:\\/\\/www.pornhub.com\\/embed\\/ph59b1d62ea6346\\\" frameborder=\\\"0\\\" " +
                "width=\\\"560\\\" height=\\\"340\\\" scrolling=\\\"no\\\" allowfullscreen><\\/iframe>\"," +
                "\"hidePostPauseRoll\":false,\"isHD\":\"true\",\"video_duration\":\"505\",\"actionTags\":\"\"," +
                "\"link_url\":\"https:\\/\\/www.pornhub.com\\/view_video.php?viewkey=ph59b1d62ea6346\"," +
                "\"related_url\":\"https:\\/\\/www.pornhub.com\\/video\\/player_related_datas?id=131849481\"," +
                "\"image_url\":\"https:\\/\\/ci.phncdn.com\\/videos\\/201709\\/07\\/131849481\\/original\\/" +
                "(m=eaAaGwObaaaa)(mh=K8ci1m7eNsE7fuNf)8.jpg\",\"video_title\":\"Gloria Sol - Cloud Nine\"," +
                "\"defaultQuality\":[720,480,240,1080]," +
                "\"vcServerUrl\":\"\\/svvt\\/add?stype=svv&svalue=131849481&snonce=5xcjqemn9e8s64ue&skey" +
                "=82d975822a8e7ebc5d44172cea7932483649f5bf99aaf5b6ba524a3ecdfd8254&stime=1567263248\"," +
                "\"display_hd_upsell\":true,\"mediaDefinitions\":[{\"defaultQuality\":false,\"quality\":1080," +
                "\"format\":\"upsell\",\"videoUrl\":\"\"},{\"defaultQuality\":true,\"format\":\"mp4\"," +
                "\"quality\":\"720\",\"videoUrl\":\"https:\\/\\/cv.phncdn" +
                ".com\\/videos\\/201709\\/07\\/131849481\\/720P_1500K_131849481" +
                ".mp4?VQP-5jkPqwBv7EIVJMYGOH5dQvCwx2InnKgnp" +
                "-bOsrs9AxfEnF5B_ZpaESTr76Z3bfwTVCujDF9LL76Lzd3996eqv0vElu3khXUkSgGF2s1CGj6YJOvakSy9sjUNZOd9pGXEwwV1tBks08iFE40Kdk7RYq0sT8_FoLeetCT83LJ7kU_jHgj7yj1MEoO8Q9wAXDHxFXvg7u4\"},{\"defaultQuality\":false,\"format\":\"mp4\",\"quality\":\"480\",\"videoUrl\":\"https:\\/\\/cv.phncdn.com\\/videos\\/201709\\/07\\/131849481\\/480P_600K_131849481.mp4?anVdhuxc5XfWd8T-xWz1KU9CYOMb1_dp1ilXOyLSdPJIpvp6oxGHPHuNZbzsbWJbx1ahaZ05bjhjEXU0Nrx6Al8rYAgmLFVyzzh3FNsJcrB8QsSm5bY4tj4nYxEqDUpMsj4rJZvKmXOLA9JBsl0f2FNUgaFIOBMN6M7TPWIdFJPQdd_wMg-AU2Iz0SfMrJEYNFJs-ur8bg\"},{\"defaultQuality\":false,\"format\":\"mp4\",\"quality\":\"240\",\"videoUrl\":\"https:\\/\\/cv.phncdn.com\\/videos\\/201709\\/07\\/131849481\\/240P_400K_131849481.mp4?2Jdy-t-BXrOK1Md4LwNAfy8SfhZxrtqoMVZ7EWOIsPmjZUs6XneZ9gc5lWKdlH_WFd_kW3ldjolztkuom2wSKPpHAsgrKn0BezSake6kB6OqK-0qmCkzKc94bDIe9kwIVwq0yfPVdYtKynJEq52B1VFsoP0W8NmLYmcZ-VpNp8MyyqmGCG6JxIEWgrau8NZhzGbF7HHi\"}],\"isVertical\":\"false\",\"video_unavailable_country\":\"false\",\"mp4_seek\":\"ms\",\"hotspots\":[\"1252479\",\"24658\",\"19679\",\"16827\",\"14048\",\"12860\",\"11566\",\"10782\",\"10002\",\"9136\",\"8720\",\"8264\",\"7532\",\"7193\",\"7255\",\"7122\",\"7009\",\"6705\",\"6422\",\"6393\",\"6203\",\"6451\",\"6680\",\"7211\",\"6950\",\"7228\",\"7262\",\"7422\",\"7227\",\"7356\",\"7166\",\"7038\",\"6762\",\"6789\",\"6976\",\"6743\",\"6639\",\"6281\",\"6163\",\"6008\",\"5772\",\"5640\",\"5697\",\"5758\",\"5767\",\"6770\",\"6313\",\"6262\",\"6216\",\"6255\",\"6431\",\"6553\",\"6489\",\"6485\",\"6427\",\"7039\",\"6731\",\"6796\",\"6875\",\"7546\",\"8334\",\"8152\",\"8144\",\"7878\",\"7657\",\"7309\",\"7835\",\"6624\",\"6541\",\"6674\",\"6808\",\"7004\",\"7288\",\"6649\",\"6190\",\"5854\",\"5786\",\"5843\",\"5563\",\"5390\",\"5326\",\"5331\",\"5318\",\"5637\",\"5656\",\"5432\",\"5583\",\"5831\",\"5776\",\"5579\",\"5135\",\"5007\",\"4957\",\"4848\",\"4685\",\"4710\",\"4818\",\"4612\",\"4569\",\"4167\",\"3835\"],\"toprated_url\":\"https:\\/\\/www.pornhub.com\\/video?o=tr&t=m\",\"mostviewed_url\":\"https:\\/\\/www.pornhub.com\\/video?o=mv&t=m\",\"options\":\"show\",\"cdn\":\"edgecast\",\"startLagThreshold\":1000,\"outBufferLagThreshold\":2000,\"appId\":\"1111\",\"service\":\"protrack\",\"cdnProvider\":\"ec\",\"tubesCmsPrerollConfigType\":\"new\",\"prerollGlobalConfig\":{\"delay\":[900,2000,3000],\"forgetUserAfter\":86400,\"onNth\":1,\"skipDelay\":5,\"skippable\":true,\"vastSkipDelay\":false,\"vast\":\"https:\\/\\/ads.trafficjunky.net\\/ads?zone_id=1845481&site_id=2&channel%5Bcontext_tag%5D=teasing%2Ckiev-ukraine-teen%2Cnice-tits&channel%5Bcontext_category%5D=Babe%2CPornstar&channel%5Bcontext_pornstar%5D=Gloria-Sol&cache=1567263248&t_version=2019082901&channel%5Bsite%5D=pornhub\",\"user_accept_language\":\"en-US,en;q=0.9\"},\"thumbs\":{\"samplingFrequency\":4,\"type\":\"normal\",\"cdnType\":\"regular\",\"urlPattern\":\"https:\\/\\/ci.phncdn.com\\/videos\\/201709\\/07\\/131849481\\/timeline\\/160x90\\/(m=eGCaiCObaaaa)(mh=6u6Cwl8mal6gKx0m)S{5}.jpg\",\"thumbHeight\":\"90\",\"thumbWidth\":\"160\"},\"nextVideo\":{\"thumb\":\"https:\\/\\/ci.phncdn.com\\/videos\\/201905\\/30\\/226500191\\/original\\/(m=q8HOZVUbecuKGgaaaa)(mh=KLK8cpOmrkXVlyBV)0.jpg\",\"duration\":\"661\",\"title\":\"NubileFilms - Creaming His Girlfriends Hot Young Daughter S31:E9\",\"isHD\":\"1\",\"nextUrl\":\"\\/view_video.php?viewkey=ph5cef3c73c094d&pkey=99410351\"},\"language\":\"en\"};\n" +
                "\t\tvar player_mp4_seek = \"ms\";\n" +
                "\n" +
                "\t\tvar raivjmygohra38raivjmygohra38=\"IVJMYGOH\";var rajhgj7yjra46rajhgj7yjra46=\"_jHgj7yj\";var " +
                "ra1meoo8q9ra58ra1meoo8q9ra58=\"1MEoO8Q9\";var rapaestr76ra32rapaestr76ra32=\"paESTr76\";var " +
                "rakpqwbv7era31rakpqwbv7era31=\"kPqwBv7E\";var ra709071ra12ra709071ra12=\"709/07/1\";var " +
                "raife40kdkra53raife40kdkra53=\"iFE40Kdk\";var ra7ryq0st8ra35ra7ryq0st8ra35=\"7RYq0sT8\";var " +
                "rav1tbks08ra23rav1tbks08ra23=\"V1tBks08\";var raz3bfwtvcra68raz3bfwtvcra68=\"Z3bfwTVC\";var " +
                "racvphncdra75racvphncdra75=\"cv.phnc\" + \"d\";var rancomvira85rancomvira85=\"n.com/vi\";var " +
                "ra31849481ra10ra31849481ra10=\"31849481\";var ragf2s1cgjra100ragf2s1cgjra100=\"GF2s1CG\" + \"j\";var" +
                " radeos201ra50radeos201ra50=\"deos/20\" + \"1\";var rahttpsra85rahttpsra85=\"https:/\" + \"/\";var " +
                "ra6lzd3996ra20ra6lzd3996ra20=\"6Lzd3996\";var ra5dqvcwx2ra98ra5dqvcwx2ra98=\"5dQvCwx2\";var " +
                "rainnkgnpra83rainnkgnpra83=\"InnKgnp-\";var rafoleetcra94rafoleetcra94=\"_FoLeetC\";var " +
                "ra49481mpra57ra49481mpra57=\"49481.mp\";var raeqv0velura37raeqv0velura37=\"eqv0vElu\";var " +
                "rawaxdhxfxra26rawaxdhxfxra26=\"wAXDHxF\" + \"X\";var ra720p15ra98ra720p15ra98=\"/720P_15\";var " +
                "rafenf5bzra94rafenf5bzra94=\"fEnF5\" + \"B_Z\";var ravg7u4ra27ravg7u4ra27=\"vg7u4\";var " +
                "ray9sjunzora17ray9sjunzora17=\"y9sjUNZO\";var rat83lj7kura89rat83lj7kura89=\"T83LJ7kU\";var " +
                "ra3khxuksgra42ra3khxuksgra42=\"3khXUkSg\";var ra00k1318ra10ra00k1318ra10=\"00K_1318\";var " +
                "rad9pgxewwra43rad9pgxewwra43=\"d9pGXEw\" + \"w\";var ra6yjovaksra24ra6yjovaksra24=\"6YJOvakS\";var " +
                "raujdf9ll7ra36raujdf9ll7ra36=\"ujDF9LL7\";var rabosrs9axra60rabosrs9axra60=\"bOsrs9Ax\";var " +
                "ra4vqp5jra36ra4vqp5jra36=\"4?VQP-5j\";var quality_720p=/* + racvphncdra75racvphncdra75 + " +
                "*/rahttpsra85rahttpsra85 + /* + ravg7u4ra27ravg7u4ra27 + */racvphncdra75racvphncdra75 + /* + " +
                "rakpqwbv7era31rakpqwbv7era31 + */rancomvira85rancomvira85 + /* + rawaxdhxfxra26rawaxdhxfxra26 + " +
                "*/radeos201ra50radeos201ra50 + /* + rawaxdhxfxra26rawaxdhxfxra26 + */ra709071ra12ra709071ra12 + /* +" +
                " rabosrs9axra60rabosrs9axra60 + */ra31849481ra10ra31849481ra10 + /* + ra4vqp5jra36ra4vqp5jra36 + " +
                "*/ra720p15ra98ra720p15ra98 + /* + rahttpsra85rahttpsra85 + */ra00k1318ra10ra00k1318ra10 + /* + " +
                "rav1tbks08ra23rav1tbks08ra23 + */ra49481mpra57ra49481mpra57 + /* + ra49481mpra57ra49481mpra57 + " +
                "*/ra4vqp5jra36ra4vqp5jra36 + /* + raz3bfwtvcra68raz3bfwtvcra68 + */rakpqwbv7era31rakpqwbv7era31 + /*" +
                " + racvphncdra75racvphncdra75 + */raivjmygohra38raivjmygohra38 + /* + rainnkgnpra83rainnkgnpra83 + " +
                "*/ra5dqvcwx2ra98ra5dqvcwx2ra98 + /* + ra7ryq0st8ra35ra7ryq0st8ra35 + */rainnkgnpra83rainnkgnpra83 + " +
                "/* + rakpqwbv7era31rakpqwbv7era31 + */rabosrs9axra60rabosrs9axra60 + /* + " +
                "raivjmygohra38raivjmygohra38 + */rafenf5bzra94rafenf5bzra94 + /* + ra31849481ra10ra31849481ra10 + " +
                "*/rapaestr76ra32rapaestr76ra32 + /* + rad9pgxewwra43rad9pgxewwra43 + */raz3bfwtvcra68raz3bfwtvcra68 " +
                "+ /* + ra6yjovaksra24ra6yjovaksra24 + */raujdf9ll7ra36raujdf9ll7ra36 + /* + " +
                "rabosrs9axra60rabosrs9axra60 + */ra6lzd3996ra20ra6lzd3996ra20 + /* + rad9pgxewwra43rad9pgxewwra43 + " +
                "*/raeqv0velura37raeqv0velura37 + /* + rakpqwbv7era31rakpqwbv7era31 + */ra3khxuksgra42ra3khxuksgra42 " +
                "+ /* + ragf2s1cgjra100ragf2s1cgjra100 + */ragf2s1cgjra100ragf2s1cgjra100 + /* + " +
                "ra31849481ra10ra31849481ra10 + */ra6yjovaksra24ra6yjovaksra24 + /* + ra1meoo8q9ra58ra1meoo8q9ra58 + " +
                "*/ray9sjunzora17ray9sjunzora17 + /* + rawaxdhxfxra26rawaxdhxfxra26 + */rad9pgxewwra43rad9pgxewwra43 " +
                "+ /* + ra49481mpra57ra49481mpra57 + */rav1tbks08ra23rav1tbks08ra23 + /* + ra49481mpra57ra49481mpra57" +
                " + */raife40kdkra53raife40kdkra53 + /* + rad9pgxewwra43rad9pgxewwra43 + " +
                "*/ra7ryq0st8ra35ra7ryq0st8ra35 + /* + raz3bfwtvcra68raz3bfwtvcra68 + */rafoleetcra94rafoleetcra94 + " +
                "/* + raife40kdkra53raife40kdkra53 + */rat83lj7kura89rat83lj7kura89 + /* + racvphncdra75racvphncdra75" +
                " + */rajhgj7yjra46rajhgj7yjra46 + /* + raife40kdkra53raife40kdkra53 + */ra1meoo8q9ra58ra1meoo8q9ra58" +
                " + /* + rancomvira85rancomvira85 + */rawaxdhxfxra26rawaxdhxfxra26 + /* + " +
                "rawaxdhxfxra26rawaxdhxfxra26 + */ravg7u4ra27ravg7u4ra27;flashvars_131849481[\"quality_720p\"] = " +
                "quality_720p;var rahasgrkn0bera47rahasgrkn0bera47=\"HAsgrKn0Be\";var " +
                "raytkynjeq52ra37raytkynjeq52ra37=\"YtKynJE\" + \"q52\";var " +
                "ra318494812ra86ra318494812ra86=\"31849481/2\";var rag6jxiewgrara33rag6jxiewgrara33=\"G6JxIEW\" + " +
                "\"gra\";var rawnafy8sfhzra48rawnafy8sfhzra48=\"wNAfy8S\" + \"fhZ\";var " +
                "rakuom2wskppra43rakuom2wskppra43=\"kuom2wSKPp\";var rawoispmjzusra12rawoispmjzusra12=\"WOIsPmjZU\" +" +
                " \"s\";var rab1vfsop0w8ra21rab1vfsop0w8ra21=\"B1VFsoP0W8\";var " +
                "rakw3ldjolztra21rakw3ldjolztra21=\"kW3ldjolzt\";var raqk0qmckzkra86raqk0qmckzkra86=\"qK-0qmC\" + " +
                "\"kzK\";var rac94bdie9kwra18rac94bdie9kwra18=\"c94bDIe\" + \"9kw\";var " +
                "ranmlymczvpra79ranmlymczvpra79=\"NmLYmcZ-Vp\";var raxrtqomvz7era42raxrtqomvz7era42=\"xrtqoMVZ7E\";" +
                "var raphncdncora78raphncdncora78=\".phncdn.c\" + \"o\";var " +
                "razsake6kb6ora11razsake6kb6ora11=\"zSake6kB6O\";var ranp8myyqmgcra36ranp8myyqmgcra36=\"Np8MyyqmGC\";" +
                "var ra31849481mra65ra31849481mra65=\"31849481.m\";var rawkdlhwfdra62rawkdlhwfdra62=\"WKdlH_WFd_\";" +
                "var ra40p400k1ra23ra40p400k1ra23=\"40P_400K_1\";var rau8nzhzgbf7ra86rau8nzhzgbf7ra86=\"u8NZhzG\" + " +
                "\"bF7\";var ra01709071ra90ra01709071ra90=\"01709/07/\" + \"1\";var " +
                "rahttpscvra19rahttpscvra19=\"https\" + \"://cv\";var rabxrok1md4lra93rabxrok1md4lra93=\"BXrOK\" + " +
                "\"1Md4L\";var ra6xnez9gc5lra61ra6xnez9gc5lra61=\"6XneZ9gc5l\";var " +
                "ramvideos2ra73ramvideos2ra73=\"m/videos/2\";var rahhira22rahhira22=\"HHi\";var " +
                "raivwq0yfpvdra11raivwq0yfpvdra11=\"IVwq0yf\" + \"PVd\";var " +
                "rap42jdytra41rap42jdytra41=\"p4?2Jdy-t-\";var quality_240p=/* + rab1vfsop0w8ra21rab1vfsop0w8ra21 + " +
                "*/rahttpscvra19rahttpscvra19 + /* + rakw3ldjolztra21rakw3ldjolztra21 + " +
                "*/raphncdncora78raphncdncora78 + /* + rahasgrkn0bera47rahasgrkn0bera47 + " +
                "*/ramvideos2ra73ramvideos2ra73 + /* + rahttpscvra19rahttpscvra19 + */ra017…";
        PHVideo phVideo = new PHVideo();
        String url = phVideo.getVideoUrl(javascript);
        System.out.println(url);

    }

    public String getVideoUrl(String javascript) {

        String videoUrl = "";
        if (javascript.contains("\"720\",\"videoUrl\":")) {
            videoUrl = javascript.substring(javascript.indexOf("\"720\",\"videoUrl\":"), javascript.indexOf("}," +
                    "{\"defaultQuality\":false,\"format\":\"mp4\",\"quality\":\"480"));
            videoUrl = videoUrl.substring(videoUrl.indexOf("\"videoUrl\":\"") + "\"videoUrl\":\"".length(),
                    videoUrl.length() - 1).replace("\\", "");
        } else {
            videoUrl = javascript.substring(javascript.indexOf("\"480\",\"videoUrl\":"), javascript.indexOf("}," +
                    "{\"defaultQuality\":false,\"format\":\"mp4\",\"quality\":\"240"));
            videoUrl = videoUrl.substring(videoUrl.indexOf("\"videoUrl\":\"") + "\"videoUrl\":\"".length(),
                    videoUrl.length() - 1).replace("\\", "");
        }


        return videoUrl;
    }
}
